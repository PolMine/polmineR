<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cooccurrences class for corpus/partition. — Cooccurrences-class • polmineR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cooccurrences class for corpus/partition. — Cooccurrences-class" />
<meta property="og:description" content="The Cooccurrences-class stores the information for all cooccurrences
in a corpus. As this data can be bulky, in-place modifications of the
data.table in the stat-slot of a Cooccurrences-object are used
wherever possible, to avoid copying potentially large objects whenever
possible. The class inherits from the textstat-class, so that methods
for textstat-objects are inherited (see examples)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">polmineR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/OpenCPU.html">OpenCPU</a>
    </li>
    <li>
      <a href="../articles/vignette.html">Introducing the 'polmineR'-package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PolMine/polmineR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cooccurrences class for corpus/partition.</h1>
    <small class="dont-index">Source: <a href='https://github.com/PolMine/polmineR/blob/master/R/cooccurrences.R'><code>R/cooccurrences.R</code></a>, <a href='https://github.com/PolMine/polmineR/blob/master/R/as.sparseMatrix.R'><code>R/as.sparseMatrix.R</code></a>, <a href='https://github.com/PolMine/polmineR/blob/master/R/enrich.R'><code>R/enrich.R</code></a></small>
    <div class="hidden name"><code>all-cooccurrences-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>Cooccurrences</code>-class stores the information for all cooccurrences
in a corpus. As this data can be bulky, in-place modifications of the
<code>data.table</code> in the stat-slot of a <code>Cooccurrences</code>-object are used
wherever possible, to avoid copying potentially large objects whenever
possible. The class inherits from the <code>textstat</code>-class, so that methods
for <code>textstat</code>-objects are inherited (see examples).</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for Cooccurrences</span>
<span class='fu'>as.simple_triplet_matrix</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for Cooccurrences</span>
<span class='fu'>as_igraph</span><span class='op'>(</span>
  <span class='va'>x</span>,
  edge_attributes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ll"</span>, <span class='st'>"ab_count"</span>, <span class='st'>"rank_ll"</span><span class='op'>)</span>,
  vertex_attributes <span class='op'>=</span> <span class='st'>"count"</span>,
  as.undirected <span class='op'>=</span> <span class='cn'>TRUE</span>,
  drop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"polmineR.villainChars"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='co'># S4 method for Cooccurrences</span>
<span class='fu'><a href='subset.html'>subset</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, <span class='va'>by</span><span class='op'>)</span>

<span class='co'># S4 method for Cooccurrences</span>
<span class='fu'><a href='decode.html'>decode</a></span><span class='op'>(</span><span class='va'>.Object</span><span class='op'>)</span>

<span class='co'># S4 method for Cooccurrences</span>
<span class='fu'><a href='kwic.html'>kwic</a></span><span class='op'>(</span>
  <span class='va'>.Object</span>,
  left <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"polmineR.left"</span><span class='op'>)</span>,
  right <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"polmineR.right"</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  progress <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='co'># S4 method for Cooccurrences</span>
<span class='fu'><a href='as.sparseMatrix.html'>as.sparseMatrix</a></span><span class='op'>(</span><span class='va'>x</span>, col <span class='op'>=</span> <span class='st'>"ab_count"</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for Cooccurrences</span>
<span class='fu'><a href='enrich.html'>enrich</a></span><span class='op'>(</span><span class='va'>.Object</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <code>Cooccurrences</code> class object.</p></td>
    </tr>
    <tr>
      <th>edge_attributes</th>
      <td><p>Attributes from stat <code>data.table</code> in x to add to edges.</p></td>
    </tr>
    <tr>
      <th>vertex_attributes</th>
      <td><p>Vertex attributes to add to nodes.</p></td>
    </tr>
    <tr>
      <th>as.undirected</th>
      <td><p>Logical, whether to return directed or undirected graph.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>A character vector indicating names of nodes to drop from
<code>igraph</code> object that is prepared.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed into a further call of <code>subset</code>.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>A <code>features</code>-class object.</p></td>
    </tr>
    <tr>
      <th>.Object</th>
      <td><p>A <code>Cooccurrences</code>-class object.</p></td>
    </tr>
    <tr>
      <th>left</th>
      <td><p>Number of tokens to the left of the node.</p></td>
    </tr>
    <tr>
      <th>right</th>
      <td><p>Number of tokens to the right of the node.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical.</p></td>
    </tr>
    <tr>
      <th>progress</th>
      <td><p>Logical, whether to show progress bar.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>A column to extract.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>as.simple_triplet_matrix</code>-method will transform a
  <code>Cooccurrences</code> object into a sparse matrix. For reasons of memory
  efficiency, decoding token ids is performed within the method at the
  as late as possible. It is NOT necessary that decoded tokens are present
  in the table in the <code>Cooccurrences</code> object.</p>
<p>The <code>as_igraph</code>-method can be used to turn an object of the <code>Cooccurrences</code>-class 
into an <code>igraph</code>-object.</p>
<p>The <code>subset</code> method, as a particular feature, allows a
  <code>Coocccurrences</code>-object to be subsetted by a <code>featurs</code>-Object
  resulting from a features extraction that compares two Cooccurrences
  objects.</p>
<p>For reasons of memory efficiency, the initial <code>data.table</code> in
  the slot <code>stat</code> of a <code>Cooccurrences</code>-object will identify tokens by an
  integer id, not by the string of the token. The <code><a href='decode.html'>decode()</a></code>-method will
  replace these integer columns with human-readable character vectors. Due to
  the reference logic of the <code>data.table</code> object, this is an in-place
  operation, peformed without copying the table. The modified object is
  returned invisibly; usually it will not be necessary to catch the return
  value.</p>
<p>The <code>kwic</code>-method will add a column to the <code>data.table</code> in
  the <code>stat</code>-slot with the concordances that are behind a statistical
  finding, and to the <code>data.table</code> in the <code>stat</code>-slot of the
  <code>partition</code> in the slot <code>partition</code>. It is an in-place operation.</p>
<p>Returns a <code>sparseMatrix</code> based on the counts of term cooccurrences. At this stage,
it is required that decoded tokens are present.</p>
<p>The <code>enrich</code>-method will add columns 'a_count' and 'b_count' to the 
  <code>data.table</code> in the 'stat' slot of the <code>Cooccurrences</code> object. If the
  count for the subcorpus/partition from which the cooccurrences are derived is 
  not yet present, the count is performed first.</p>
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    

<dl>
<dt><code>left</code></dt><dd><p>Single <code>integer</code> value, number of tokens to the left of the node.</p></dd>

<dt><code>right</code></dt><dd><p>Single <code>integer</code> value, number of tokens to the right of the node.</p></dd>

<dt><code>p_attribute</code></dt><dd><p>A <code>character</code> vector, the p-attribute(s) the evaluation of the corpus is based on.</p></dd>

<dt><code>corpus</code></dt><dd><p>Length-one <code>character</code> vector, the CWB corpus used.</p></dd>

<dt><code>stat</code></dt><dd><p>A <code>data.table</code> with the statistical analysis of cooccurrences.</p></dd>

<dt><code>encoding</code></dt><dd><p>Length-one <code>character</code> vector, the encoding of the corpus.</p></dd>

<dt><code>partition</code></dt><dd><p>The <code>partition</code> that is the basis for computations.</p></dd>

<dt><code>window_sizes</code></dt><dd><p>A <code>data.table</code> linking the number of tokens in the
context of a token identified by id.</p></dd>

<dt><code>minimized</code></dt><dd><p>Logical, whether the object has been minimized.</p></dd>

</dl>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>See the documentation of the <code><a href='Cooccurrences,corpus-method.html'>Cooccurrences</a></code>-method
  (including examples) for procedures to get and filter cooccurrence
  information. See the documentation for the <code><a href='textstat-class.html'>textstat-class</a></code>
  explaining which methods for this superclass of the
  <code>Cooccurrences</code>-class which are available.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='Cooccurrences,corpus-method.html'>Cooccurrences</a></span><span class='op'>(</span><span class='st'>"REUTERS"</span>, p_attribute <span class='op'>=</span> <span class='st'>"word"</span>, left <span class='op'>=</span> <span class='fl'>2L</span>, right <span class='op'>=</span> <span class='fl'>2L</span><span class='op'>)</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'>as.simple_triplet_matrix</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='Cooccurrences,corpus-method.html'>Cooccurrences</a></span><span class='op'>(</span><span class='st'>"REUTERS"</span>, p_attribute <span class='op'>=</span> <span class='st'>"word"</span>, left <span class='op'>=</span> <span class='fl'>5L</span>, right <span class='op'>=</span> <span class='fl'>5L</span><span class='op'>)</span>
<span class='fu'><a href='decode.html'>decode</a></span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>
<span class='va'>sm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as.sparseMatrix.html'>as.sparseMatrix</a></span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>
<span class='va'>stm</span> <span class='op'>&lt;-</span> <span class='fu'>as.simple_triplet_matrix</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andreas Blaette.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


